<h2>山崎</h2>
<h3>担当箇所</h3>
<h3>飯田　：質問一覧画面・質問詳細画面・CSS</h3>
<h3>加藤　：回答入力画面</h3>
<h3>長谷部：質問入力画面・function.php・CSS</h3>
<h3>谷田　：DB・利用者登録画面</h3>
<h3>山崎　：ログイン画面</h3>
<hr>
<p>チームルールを記載</p>
<h3>pullのタイミングは11時50分・15時30分</h3>
<h3>commitコメント　名前　更新</h3>

# Idea Stock (アイデア・ストック)

チームの課題解決とナレッジ共有を促進する、社内向けQ&A掲示板アプリケーション。
職業訓練校のチーム開発課題（5名体制）として、要件定義書を基にフルスクラッチで開発しました。

![アプリケーションのスクリーンショット](img/screenshot.png) ## 🌐 概要
* **目的**: 社内の業務改善アイデアや技術的な質問を蓄積し、資産化する。
* **機能**: ユーザー登録、ログイン認証、質問投稿・一覧・詳細表示、回答投稿、パスワード変更など。

## 🛠 技術スタック
* **言語**: PHP 8.x (フレームワーク未使用)
* **データベース**: MySQL 8.x
* **フロントエンド**: HTML5, CSS3
* **インフラ/環境**: XAMPP (Apache), VS Code
* **バージョン管理**: Git / GitHub

## 📅 開発体制
* **開発期間**: 202X年X月〜X月
* **チーム構成**: 5名
* **私の役割**: **コア機能実装 / ディレクトリ設計 / CSS設計**

## 💻 私の担当領域と実装詳細

プロジェクト全体の基盤となる共通処理や、ディレクトリ構造の設計を担当しました。また、**「仕様書には記載がなかったが、実運用には不可欠な機能」**を自ら提案し、実装しました。

### 1. セキュリティと堅牢性の強化（自発的な提案・実装）
要件定義書では簡易的な仕様となっていましたが、セキュリティリスクを考慮し、以下の機能を独断ではなくチームに提案して実装しました。
* **パスワードのハッシュ化**:
    * `function.php` 内のログイン処理にて `password_hash()` と `password_verify()` を導入。DBへの平文保存を防ぎました。
* **例外処理 (Try-Catch) の導入**:
    * `dbConnect.php` やDB操作関数において、接続エラーやSQLエラー発生時にシステムが停止せず、適切にログ出力・エラーハンドリングを行う仕組みを構築しました。
* **パスワード変更機能**:
    * セキュリティ担保のため、ユーザー自身がパスワードを変更できる機能を追加実装しました。

### 2. 保守性を高める共通化設計
* **共通関数 (`function.php`) の集約**:
    * ログイン判定 (`isUser`)、未ログイン時のリダイレクト (`noLogin`)、CSSのキャッシュバスティング (`switchCss`) などの汎用ロジックを一元管理し、チームメンバーが利用しやすい環境を整えました。
* **動的なヘッダー制御 (`header.php`)**:
    * ログイン状態や現在表示しているページ (`questions.php` 等) に応じて、ナビゲーションのボタン（ログイン/ログアウト/質問追加）を自動で出し分けるロジックを実装しました。

### 3. 拡張性を意識したディレクトリ・CSS設計
* **ディレクトリ構造**:
    * `includes/` (共通部品), `pages/` (各画面用CSS) など、役割ごとに明確に分離。
* **CSS設計**:
    * ページ固有のスタイルと共通スタイルを分け、`switchCss` 関数でページごとに必要なCSSのみを読み込む設計にしました。

## 🔥 直面した課題と解決策

### 初めてのGit/GitHubでのチーム開発とコンフリクト地獄
**課題:**
チーム全員がGit初学者だったため、開発初期はマージコンフリクトが頻発しました。特に `function.php` や `style.css` などの共通ファイルを複数人で同時に編集してしまい、作業の手戻りが多く発生しました。

**解決策:**
1.  **コミュニケーションの徹底**: 共通ファイルを触る際はSlackで「今から〇〇を編集します」と宣言する運用ルールを設けました。
2.  **役割分担の明確化**: ファイル単位ではなく、機能単位（質問機能担当、ユーザー機能担当など）で担当を分け、競合を減らすようにディレクトリ構成を見直しました。
3.  **解決プロセスの学習**: コンフリクト発生時の解消手順を共有し、恐れずにプルリクエストを出せる環境を作りました。

この経験を通じて、コードを書く技術だけでなく、**「チームで開発するための作法」**やバージョン管理の重要性を深く学ぶことができました。

## 📂 ディレクトリ構成

チーム開発における「修正時の競合回避」と「メンテナンス性」を最優先し、機能と役割ごとにディレクトリを分割しました。
特にCSSは、全ページ共通のスタイルとページ固有のスタイルを分離し、PHP側で自動的に読み分ける設計にしています。

```text
root
├── css/
│   ├── pages/           # 各ページ固有のスタイル (PHPファイル名と対になるCSSを配置)
│   │   ├── answer.css
│   │   ├── login.css
│   │   └── ...
│   ├── reset.css        # ブラウザ間の差異をなくすリセットCSS
│   └── style.css        # サイト全体で共通するベーススタイル (フォント、共通レイアウト等)
├── img/                 # 画像リソース
├── includes/            # 共通処理・設定ファイル群 (ここを集約することで保守性を向上)
│   ├── config.php       # セッション開始や必要なファイルの読み込み設定
│   ├── dbConnect.php    # データベース接続設定 (PDO / Try-Catchによる例外処理)
│   ├── footer.php       # 共通フッター
│   ├── function.php     # 汎用関数群 (XSS対策、ログイン判定、パスワードハッシュ化など)
│   └── header.php       # 共通ヘッダー (ログイン状態による表示切り替えロジックを含む)
├── js/                  # JavaScriptファイル
├── answer.php           # 回答投稿・表示ページ
├── changePassword.php   # パスワード変更ページ
├── detail.php           # 質問詳細ページ
├── index.php            # ログイン画面 (トップページ)
├── questionInput.php    # 質問投稿ページ
├── questions.php        # 質問一覧ページ
├── userAdd.php          # ユーザー新規登録ページ
└── README.md
'''
